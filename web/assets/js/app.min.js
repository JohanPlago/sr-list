window.srList={},function(t,e){e.loadTracks=function(n){e.loadTracksSpinner=new Spinner(r()).spin(t("#jst-tracklist")[0]),t.getJSON(n).success(i).always(function(){e.loadTracksSpinner.stop()})};var i=function(e){var i=t("#jst-tracklist");if(0===e.length)return void i.html(t("#jst-tracklist-empty").html());var r=t(t("#jst-track-template").html());t.each(e,function(t,e){$trackListItem=r.clone(),$trackListItem.find(".jst-track-name").html(e.name),$trackListItem.find(".jst-track-artists").html(n(e.artists)),"undefined"!=typeof e.album?(e.album.images.length>1&&$trackListItem.find(".jst-album-image").prop("src",e.album.images[1].url),e.album.name.length>0?$trackListItem.find(".jst-album-name").html(" - "+e.album.name):$trackListItem.find(".jst-album-name").remove(),$trackListItem.find(".jst-album-placeholder").remove()):$trackListItem.find(".jst-album-image").remove(),"undefined"!=typeof e.spotify_uri?$trackListItem.find(".jst-spotify-uri-a").prop("href",e.spotify_uri):$trackListItem.find(".jst-spotify-uri").remove(),i.append($trackListItem)})},n=function(t){for(var e="",i=0;i<t.length;i++)e+=t[i].name,i!==t.length-1&&(e+=", ");return e},r=function(){return{lines:13,length:28,width:17,radius:36,scale:.5,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:81,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"}}}(jQuery,srList),function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var i,n=document.createElement(t||"div");for(i in e)n[i]=e[i];return n}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,n){var r=["opacity",e,~~(100*t),i,n].join("-"),o=.01+i/n*100,s=Math.max(1-(1-t)/e*(100-o),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[r]||(u.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",u.cssRules.length),p[r]=1),r}function n(t,e){var i,n,r=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==r[e])return e;for(n=0;n<d.length;n++)if(i=d[n]+e,void 0!==r[i])return i}function r(t,e){for(var i in e)t.style[n(t,i)||i]=e[i];return t}function o(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)void 0===t[n]&&(t[n]=i[n])}return t}function s(t,e){return"string"==typeof t?t:t[e%t.length]}function a(t){this.opts=o(t||{},a.defaults,f)}function l(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}u.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,n){function o(){return r(i("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(t,a,l){e(p,e(r(o(),{rotation:360/n.lines*t+"deg",left:~~a}),e(r(i("roundrect",{arcsize:n.corners}),{width:c,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:l}),i("fill",{color:s(n.color,t),opacity:n.opacity}),i("stroke",{opacity:0}))))}var l,c=n.scale*(n.length+n.width),u=2*n.scale*c,d=-(n.width+n.length)*n.scale*2+"px",p=r(o(),{position:"absolute",top:d,left:d});if(n.shadow)for(l=1;l<=n.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)a(l);return e(t,p)},a.prototype.opacity=function(t,e,i,n){var r=t.firstChild;n=n.shadow&&n.lines||0,r&&e+n<r.childNodes.length&&(r=r.childNodes[e+n],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=i))}}var c,u,d=["webkit","Moz","ms","O"],p={},f={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},o(a.prototype,{spin:function(e){this.stop();var i=this,n=i.opts,o=i.el=t(null,{className:n.className});if(r(o,{position:n.position,width:0,zIndex:n.zIndex,left:n.left,top:n.top}),e&&e.insertBefore(o,e.firstChild||null),o.setAttribute("role","progressbar"),i.lines(o,i.opts),!c){var s,a=0,l=(n.lines-1)*(1-n.direction)/2,u=n.fps,d=u/n.speed,p=(1-n.opacity)/(d*n.trail/100),f=d/n.lines;!function m(){a++;for(var t=0;t<n.lines;t++)s=Math.max(1-(a+(n.lines-t)*f)%d*p,n.opacity),i.opacity(o,t*n.direction+l,s,n);i.timeout=i.el&&setTimeout(m,~~(1e3/u))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(n,o){function a(e,i){return r(t(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var l,u=0,d=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)l=r(t(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&i(o.opacity,o.trail,d+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(l,r(a("#000","0 0 4px #000"),{top:"2px"})),e(n,e(l,a(s(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),"undefined"!=typeof document){u=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}();var m=r(t("group"),{behavior:"url(#default#VML)"});!n(m,"transform")&&m.adj?l():c=n(m,"animation")}return a});